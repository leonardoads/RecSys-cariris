#LOADING DATA
data = read.csv("Data/clicks-proc-basico/clicks-proc-basico-parte1.dat", sep = ",", header = F)
data = rbind(data, read.csv("Data/clicks-proc-basico/clicks-proc-basico-parte2.dat", sep = ",", header = F))
data = rbind(data, read.csv("Data/clicks-proc-basico/clicks-proc-basico-parte3.dat", sep = ",", header = F))
data = rbind(data, read.csv("Data/clicks-proc-basico/clicks-proc-basico-parte4.dat", sep = ",", header = F))
data = rbind(data, read.csv("Data/clicks-proc-basico/clicks-proc-basico-parte5.dat", sep = ",", header = F))
data = rbind(data, read.csv("Data/clicks-proc-basico/clicks-proc-basico-parte6.dat", sep = ",", header = F))

colnames(data) <- c("SESSION", "DAY", "MONTH", "YEAR", "TIME", "ITEM", "CATEGORY")

#FIXING DATA TYPES
sapply(data, class)
data$ITEM <- factor(data$ITEM)
sapply(data, class)
data$CATEGORY <- factor(data$CATEGORY)

#LOADING DATA TEST
data.test = read.csv("Data/buys-proc-basico/buys-proc-basico-parte1.dat", sep = ",", header = F)
data.test = rbind(data.test, read.csv("Data/buys-proc-basico/buys-proc-basico-parte2.dat", sep = ",", header = F))
colnames(data.test) <- c("SESSION", "DAY", "MONTH", "YEAR", "TIME", "ITEM", "PRICE", "CATEGORY")

#FIXING DATA TEST TYPES
sapply(data.test, class)
data.test$ITEM <- factor(data.test$ITEM)
sapply(data.test, class)
data.test$CATEGORY <- factor(data.test$CATEGORY)

#Embaralhando os dados
set.seed(21058)

data.buys = data[data$IS_BUY == 1,]
data.no_buys = data[data$IS_BUY == 0,]

#Amostra com n de linhas iguais para compras e nao-compras
data.no_buys = data.no_buys[order(runif(nrow(data.no_buys))), ]
data.no_buys = data.no_buys[0: nrow(data.buys),]

#Juntar as amostras de compras e nao compras
data_rand = rbind(data.buys, data.no_buys)
data_rand <- data_rand[order(runif(nrow(data_rand))), ]
